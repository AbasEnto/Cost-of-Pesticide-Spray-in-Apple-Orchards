<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Apple Orchard Spray Cost Calculator</title>

  <style>
    :root{
      --bg: #87ceeb; /* sky blue background */
      --card: #ffffff; /* card background */
      --accent: #7c3aed; /* primary buttons / accents */
      --muted: #444; /* secondary text */
      --text: #000; /* main text */
      --radius: 12px;
      --maxwidth: 980px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      font-size: 15px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      background: var(--bg);
      color:var(--text);
      padding:24px;
    }

    /* --- Header bar --- */
    .top-header {
      width:100%;
      max-width:var(--maxwidth);
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 12px 20px;
      background: #e6f7ff;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      margin-bottom:10px;
    }
    .top-header .center h1 {
      margin:0;
      font-size:22px;
      font-weight:bold;
      color:#005a2a; /* ICAR green */
      text-align:center;
    }
    .top-header img {
      height:70px;
      object-fit:contain;
    }
    .ribbon {
      border:none;
      height:4px;
      background:#005a2a; /* ICAR green ribbon */
      margin:0 0 10px 0;
      width:100%;
      max-width:var(--maxwidth);
    }
    .calc-title {
      text-align:center;
      margin:10px 0 20px 0;
      font-size:20px;
      font-weight:600;
    }

    /* --- Calculator layout --- */
    .wrapper{
      width:100%;
      max-width:var(--maxwidth);
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:20px;
      align-items:start;
    }

    .card{
      background: var(--card);
      border-radius: var(--radius);
      padding:20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    header.app-header{
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:12px;
    }
    .logo{
      width:56px;height:56px;border-radius:10px;
      background:linear-gradient(135deg,var(--accent), #3b82f6);
      display:flex;align-items:center;justify-content:center;font-weight:700;color:white;font-size:18px;
    }
    h1{margin:0;font-size:18px}
    p.lead{margin:4px 0 0 0;color:var(--muted);font-size:13px}

    form .row{display:flex;gap:10px;align-items:center;margin-top:8px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    select,input[type="number"]{
      width:100%;padding:10px;border-radius:10px;border:1px solid #ccc;
      background: #f9f9f9; color:var(--text); font-size:14px;
    }

    .controls{display:flex;gap:10px;margin-top:12px}
    button.btn{
      padding:10px 14px;border-radius:10px;border:none;background:var(--accent);color:white;
      font-weight:600;cursor:pointer;
    }
    button.ghost{background:transparent;border:1px solid #aaa; color:var(--muted)}

    .result {
      margin-top:12px;
      padding:14px;border-radius:10px;background: #f2f8ff;
      border:1px solid #ccc;
    }
    .big{font-size:26px;font-weight:700}
    .muted{color:var(--muted);font-size:13px}
    .breakdown{font-size:13px;color:var(--muted);margin-top:8px;display:none}

    aside.side {
      display:flex;flex-direction:column;gap:12px;
    }
    .panel{padding:14px;border-radius:10px;background:#fdfdfd;border:1px solid #ccc}
    .panel h3{margin:0 0 8px 0;font-size:14px}
    .small{font-size:13px;color:var(--muted)}

    footer.app-footer{
      grid-column:1 / -1;
      margin-top:12px;color:var(--muted);font-size:13px;
      display:flex;flex-direction:column;gap:8px;
    }

    /* responsive */
    @media (max-width:980px){
      .wrapper{grid-template-columns:1fr}
      .top-header{flex-direction:column;gap:8px;text-align:center}
    }
  </style>
</head>
<body>

  <!-- Top ICAR Header -->
  <header class="top-header">
    <div class="left">
      <img src="logo.jpg" alt="ICAR logo" />
    </div>
    <div class="center">
      <h1>ICAR-Central Institute of Temperate Horticulture, Srinagar</h1>
    </div>
    <div class="right">
      <img src="apple.png" alt="Apple" />
    </div>
  </header>

  <!-- Green ribbon -->
  <hr class="ribbon" />

  <!-- Calculator title -->
  <h2 class="calc-title">Online tool to estimate pesticide material & application cost per kanal in apple orchards</h2>

  <div class="wrapper">
    <main class="card" role="main" aria-labelledby="appTitle">
      <header class="app-header">
        <div class="logo">APPLE</div>
        <div>
          <h1 id="appTitle">Orchard Spray Cost Calculator (beta version)</h1>
                </div>
      </header>

      <form id="calcForm" onsubmit="return false;">
        <div>
          <label for="system">Orchard system</label>
          <select id="system"></select>
        </div>

        <div>
          <label for="age">Tree age group</label>
          <select id="age"></select>
        </div>

        <div>
          <label for="insecticide">Insecticide</label>
          <select id="insecticide"></select>
        </div>

        <div class="row">
          <div style="flex:1">
            <label for="area">Area to estimate</label>
            <input id="area" type="number" value="1" min="0.01" step="0.1" /> 
            <div class="muted" style="margin-top:6px">Area in kanal</div>
          </div>

          <div style="width:160px">
            <label for="method">Fixed cost method</label>
            <select id="method">
              <option value="ASA">ASA&BE</option>
              <option value="SL">Straight-Line</option>
            </select>
          </div>
        </div>

        <div class="controls">
          <button class="btn" id="calcBtn" type="button">Calculate</button>
          <button class="ghost" id="resetBtn" type="button">Reset</button>
        </div>

        <div id="results" class="result" aria-live="polite">
          <div><span class="muted">Material cost (Rs / kanal)</span><div class="big" id="materialVal">—</div></div>
          <div style="margin-top:8px"><span class="muted">Application cost (Rs / kanal)</span><div class="big" id="applicationVal">—</div></div>
          <div style="margin-top:8px"><span class="muted">Total cost (Rs / kanal)</span><div class="big" id="totalVal">—</div></div>

          <button class="btn" id="toggleBreakdownBtn" type="button" style="margin-top:10px;background:#3b82f6">See Detailed Breakdown</button>
          <div class="breakdown" id="breakdownBox"></div>
        </div>
      </form>

      <footer class="app-footer">
        <div>Developed by ICAR-Central Institute of Temperate Horticulture, Srinagar</div>
        <div id="disclaimerText" class="small">
          The Publisher or authors have no responsibility for the persistence or accuracy
          of URLs for external or third-party internet websites referred to in this calculator, and does not 
          guarantee that any content on such websites is, or will remain, accurate or appropriate. No
          liability whatsoever is accepted for use of the content in this calculator. Though all efforts have 
          been made to keep the content of this publication accurate and up to date, the same should
          not be construed as a statement of law or used for any legal purpose.
        </div>
        <div style="margin-top:10px;">
          <img src="https://hits.sh/abasento.github.io/Cost-of-Pesticide-Spray-in-Apple-Orchards.svg?style=flat-square&label=visits&color=blue" alt="Visitor counter"/>
        </div>
      </footer>
    </main>

    <aside class="side">
      <div class="panel">
        <h3>Reference</h3>
        <div class="small">
          Shah, M. A., Tramboo, H. A., Rehman, S. A., Parvez, B., Nabi, S. U., Raja, W. H., Malik, G., Jaiswal, R., Mir, J. I., Sharma, O. C., & Verma, M. K. (2025).
          Estimation of the cost of insecticide application in apple orchards-Technical Bulletin, Reference No. CITH/PME/2025/02, Edition 01. Published by ICAR-Central Institute of Temperate Horticulture, Srinagar, J&K, India, pp. 28.
        </div>
      </div>
    </aside>
  </div>

  <script src="app.js"></script>
</body>
</html>
